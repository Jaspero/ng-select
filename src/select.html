<div [ngSwitch]="isMulti" class="items" (click)="openActive($event)">
    <template [ngSwitchCase]="true">
        <div class="item" *ngFor="let item of selected; let i = index">
            <span (click)="remove(i, $event)">{{item[key]}}</span>
        </div>
    </template>
    <template [ngSwitchCase]="false">
        <div class="item">{{selected[key]}}</div>
    </template>
    <input type="text" name="search" autocomplete="off" #inp [(ngModel)]="search" (keyup)="keyUpHandler($event)" (ngModelChange)="filterHandler($event)">
</div>
<div class="dropdown" [class.active]="active">
    <div class="dropdown-content">
        <div class="option" *ngFor="let item of filteredSelection; let i = index" (click)="select(i, $event)" [class.selected]="i === activeIndex" (mouseenter)="activeIndex = i">
            {{item[key]}}
        </div>
    </div>
</div>